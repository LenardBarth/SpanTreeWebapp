{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"navBar\",\n\n  created() {\n    this.hasOfficeRights = localStorage.getItem('hasOfficeRights');\n  },\n\n  data() {\n    return {\n      hasOfficeRights: ''\n    };\n  },\n\n  methods: {\n    async logout() {\n      const response = await axios.post(\"auth/api/v1/logout\", {}, {\n        headers: {\n          \"Authorization\": \"Bearer \" + localStorage.token\n        }\n      });\n\n      if (response.status === 200) {\n        localStorage.clear();\n        sessionStorage.clear();\n        this.$router.push('/login');\n      } else {\n        this.$emit('infoPopup', [\"err\", \"Konnte nicht ausgeloggt werden\"]);\n        console.log(\"Logout not completed\");\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoBA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;EACbC,IAAI,EAAE,QADO;;EAEbC,OAAO,GAAG;IACR,KAAKC,eAAL,GAAuBC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAvB;EACD,CAJY;;EAKbC,IAAI,GAAG;IACL,OAAM;MACJH,eAAe,EAAE;IADb,CAAN;EAGD,CATY;;EAUbI,OAAO,EAAE;IACP,MAAMC,MAAN,GAAe;MACb,MAAMC,QAAO,GAAI,MAAMT,KAAK,CAACU,IAAN,CAAW,oBAAX,EAAiC,EAAjC,EAAqC;QAC1DC,OAAO,EAAE;UACP,iBAAiB,YAAYP,YAAY,CAACQ;QADnC;MADiD,CAArC,CAAvB;;MAKA,IAAIH,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B;QAC3BT,YAAY,CAACU,KAAb;QACAC,cAAc,CAACD,KAAf;QACA,KAAKE,OAAL,CAAaC,IAAb,CAAkB,QAAlB;MACF,CAJA,MAIO;QACL,KAAKC,KAAL,CAAW,WAAX,EAAwB,CAAC,KAAD,EAAQ,gCAAR,CAAxB;QACAC,OAAO,CAACC,GAAR,CAAY,sBAAZ;MACF;IACF;;EAfO;AAVI,CAAf","names":["axios","name","created","hasOfficeRights","localStorage","getItem","data","methods","logout","response","post","headers","token","status","clear","sessionStorage","$router","push","$emit","console","log"],"sourceRoot":"","sources":["C:\\Studium\\Sem4\\Python_B\\SpanTreeWebapp\\frontend\\spanningtree_fe\\src\\components\\navBar.vue"],"sourcesContent":["<template>\r\n  <nav>\r\n      <div class=\"nav-elmts-group\" id=\"left\">\r\n        <ul>\r\n          <li class=\"icon\" id=\"logo\"><img src=\"@/assets/Logo.png\" alt=\"VAMS Logo\"></li>\r\n          <li><router-link :to=\"{ name: 'Home' }\">Meine Reservierungen</router-link></li>\r\n          <li><router-link :to=\"{ name: 'newReservation' }\">Neue Reservierung</router-link></li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"nav-elmts-group\" id=\"right\">\r\n        <ul>\r\n          <li v-if=\"this.hasOfficeRights === 'true'\"><router-link :to=\"{ name: 'OfficeHome' }\">zum Admin Portal</router-link></li>\r\n          <li class=\"icon\" id=\"account\"><router-link :to=\"{ name: 'Account' }\"><img src=\"@/assets/account.png\" alt=\"Account settings\"></router-link></li>\r\n          <li class=\"icon\" id=\"logout\"><a v-on:click=\"logout()\"><img src=\"@/assets/logout_white.png\" alt=\"Log Out\"></a></li>\r\n        </ul>\r\n      </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"navBar\",\r\n  created() {\r\n    this.hasOfficeRights = localStorage.getItem('hasOfficeRights')\r\n  },\r\n  data() {\r\n    return{\r\n      hasOfficeRights: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async logout() {\r\n      const response = await axios.post(\"auth/api/v1/logout\", {}, {\r\n        headers: {\r\n          \"Authorization\": \"Bearer \" + localStorage.token\r\n        }\r\n      })\r\n      if (response.status === 200) {\r\n        localStorage.clear()\r\n        sessionStorage.clear()\r\n        this.$router.push('/login')\r\n      } else {\r\n        this.$emit('infoPopup', [\"err\", \"Konnte nicht ausgeloggt werden\"])\r\n        console.log(\"Logout not completed\")\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nnav {\r\n  position: sticky;\r\n  top: 0;\r\n  width: 100%;\r\n  margin: 0;\r\n  padding-top: 25px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: rgba(60, 60, 60);\r\n}\r\n\r\n#logo {\r\n  padding: 0 10px;\r\n}\r\n\r\n#logo img {\r\n  height: 66px;\r\n  width: 66px;\r\n}\r\n\r\nul {\r\n  list-style-type: none;\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow: hidden;\r\n}\r\n\r\nli {\r\n  float: left;\r\n}\r\n\r\nli a, li router-link {\r\n  display: block;\r\n  color: white;\r\n  text-align: center;\r\n  padding: 24px 26px;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n}\r\n\r\n.icon img {\r\n  height: 24px;\r\n  width: 24px;\r\n  margin: auto;\r\n}\r\n\r\n.icon a {\r\n  padding: 18px 26px;\r\n}\r\n\r\nli:hover {\r\n  background-color: rgb(28, 28, 28);\r\n  border-radius: 4px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}